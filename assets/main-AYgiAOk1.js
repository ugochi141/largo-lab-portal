var Mt=Object.defineProperty;var It=(e,n,r)=>n in e?Mt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var ge=(e,n,r)=>It(e,typeof n!="symbol"?n+"":n,r);import{r as S,a as Ct,u as Dt,L as R,b as Et,R as rt,B as Ot,d as _t,e as q}from"./react-vendor-Bx4C_JqE.js";import{u as Lt,a as Pt,C as Tt,D as We,b as Rt}from"./dnd-vendor-1WN-1AMO.js";import{u as be,w as At,E as Wt,a as Ft}from"./export-vendor-DbHZPNsf.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var st={exports:{}},le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=S,zt=Symbol.for("react.element"),Ht=Symbol.for("react.fragment"),$t=Object.prototype.hasOwnProperty,Yt=Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ut={key:!0,ref:!0,__self:!0,__source:!0};function at(e,n,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(o=n.ref);for(s in n)$t.call(n,s)&&!Ut.hasOwnProperty(s)&&(a[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps,n)a[s]===void 0&&(a[s]=n[s]);return{$$typeof:zt,type:e,key:i,ref:o,props:a,_owner:Yt.current}}le.Fragment=Ht;le.jsx=at;le.jsxs=at;st.exports=le;var t=st.exports,Se={},Fe=Ct;Se.createRoot=Fe.createRoot,Se.hydrateRoot=Fe.hydrateRoot;const qt=()=>{var i;const[e,n]=S.useState(!1),r=Dt(),s=o=>r.pathname===o,a=[{path:"/",label:"Home",icon:"🏠"},{path:"/schedule",label:"Schedule",icon:"📅"},{path:"/dashboard",label:"Manager Dashboard",icon:"📊"},{path:"/safety",label:"Safety & Compliance",icon:"🛡️"},{path:"/staff",label:"Staff Management",icon:"👥"}];return t.jsxs("nav",{className:"bg-white shadow-soft sticky top-0 z-50",role:"navigation","aria-label":"Main navigation",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs(R,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[t.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center text-white text-xl font-bold",children:"L"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-primary-700",children:"Largo Laboratory"}),t.jsx("p",{className:"text-xs text-neutral-600",children:"Operations Portal"})]})]})}),t.jsx("div",{className:"hidden md:flex items-center space-x-1",children:a.map(o=>t.jsxs(R,{to:o.path,className:`
                  px-4 py-2 rounded-lg text-sm font-semibold transition-all
                  flex items-center gap-2
                  ${s(o.path)?"bg-primary-500 text-white":"text-neutral-700 hover:bg-primary-50 hover:text-primary-700"}
                `,"aria-current":s(o.path)?"page":void 0,children:[t.jsx("span",{"aria-hidden":"true",children:o.icon}),t.jsx("span",{children:o.label})]},o.path))}),t.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 rounded-lg hover:bg-primary-50 transition-colors","aria-expanded":e,"aria-label":"Toggle navigation menu",children:e?t.jsx("svg",{className:"w-6 h-6 text-primary-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):t.jsx("svg",{className:"w-6 h-6 text-primary-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&t.jsx("div",{className:"md:hidden py-4 border-t border-neutral-200",children:t.jsx("div",{className:"flex flex-col space-y-2",children:a.map(o=>t.jsxs(R,{to:o.path,onClick:()=>n(!1),className:`
                    px-4 py-3 rounded-lg text-sm font-semibold transition-all
                    flex items-center gap-3
                    ${s(o.path)?"bg-primary-500 text-white":"text-neutral-700 hover:bg-primary-50 hover:text-primary-700"}
                  `,"aria-current":s(o.path)?"page":void 0,children:[t.jsx("span",{"aria-hidden":"true",className:"text-xl",children:o.icon}),t.jsx("span",{children:o.label})]},o.path))})})]}),r.pathname!=="/"&&t.jsx("div",{className:"bg-neutral-50 border-t border-neutral-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:t.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center text-sm",children:[t.jsx(R,{to:"/",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Home"}),t.jsx("svg",{className:"w-4 h-4 mx-2 text-neutral-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-neutral-700 font-medium",children:((i=a.find(o=>o.path===r.pathname))==null?void 0:i.label)||"Current Page"})]})})})]})},Gt=()=>{const e=[{title:"Interactive Schedule Manager",description:"Drag-and-drop scheduling with real-time conflict detection for phlebotomy staff",icon:"📅",link:"/schedule",color:"primary"},{title:"Manager Dashboard",description:"One-on-one meetings, staff rounding, and performance metrics tracking",icon:"📊",link:"/dashboard",color:"success"},{title:"Safety & Compliance",description:"Incident reporting, safety protocols, and regulatory compliance tracking",icon:"🛡️",link:"/safety",color:"warning"},{title:"Staff Management",description:"Certification tracking, availability management, and performance metrics",icon:"👥",link:"/staff",color:"secondary"}];return t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-700 rounded-2xl shadow-strong p-8 md:p-12 mb-8 text-white",children:t.jsxs("div",{className:"max-w-3xl",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Welcome to Largo Laboratory Portal"}),t.jsx("p",{className:"text-xl md:text-2xl opacity-95 mb-6",children:"Production-ready healthcare laboratory management system for phlebotomy staff scheduling and operations"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx(R,{to:"/schedule",className:"btn bg-white text-primary-700 hover:bg-neutral-100 font-bold text-lg px-8 py-3",children:"Create Schedule"}),t.jsx(R,{to:"/dashboard",className:"btn bg-primary-600 text-white hover:bg-primary-800 font-bold text-lg px-8 py-3 border-2 border-white",children:"Manager Dashboard"})]})]})}),t.jsxs("div",{className:"mb-12",children:[t.jsx("h2",{className:"text-3xl font-bold text-neutral-900 mb-6",children:"Portal Features"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(n=>t.jsx(R,{to:n.link,className:"group card hover:shadow-strong transition-all duration-300",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-5xl","aria-hidden":"true",children:n.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-2 group-hover:text-primary-700 transition-colors",children:n.title}),t.jsx("p",{className:"text-neutral-600",children:n.description}),t.jsxs("div",{className:"mt-4 flex items-center gap-2 text-primary-600 font-semibold",children:[t.jsx("span",{children:"Learn more"}),t.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},n.title))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-6",children:"Key Benefits"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-6 h-6 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("h3",{className:"font-bold text-neutral-900",children:"Real-time Conflict Detection"})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:"Automatically detect scheduling conflicts, overtime violations, and certification issues"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-6 h-6 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("h3",{className:"font-bold text-neutral-900",children:"Export Capabilities"})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:"Export schedules and reports to PDF, Excel, or CSV formats with brand-compliant formatting"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-6 h-6 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("h3",{className:"font-bold text-neutral-900",children:"Mobile Responsive"})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:"Access from any device with touch-friendly interface and PWA support for offline use"})]})]})]}),t.jsxs("div",{className:"bg-secondary-50 border-l-4 border-secondary-500 rounded-lg p-6",children:[t.jsxs("h3",{className:"font-bold text-secondary-700 mb-2 flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Accessibility & Compliance"]}),t.jsx("p",{className:"text-sm text-secondary-700",children:"This portal meets WCAG 2.1 AA accessibility standards and includes CLIA, CAP, OSHA, and HIPAA compliance tracking features. All color combinations meet 4.5:1 contrast ratio requirements."})]})]})};function k(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function _(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function it(e,n){const r=k(e);return isNaN(n)?_(e,NaN):(n&&r.setDate(r.getDate()+n),r)}const ot=6048e5,Vt=864e5;let Xt={};function ce(){return Xt}function X(e,n){var l,d,h,x;const r=ce(),s=(n==null?void 0:n.weekStartsOn)??((d=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,a=k(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function se(e){return X(e,{weekStartsOn:1})}function lt(e){const n=k(e),r=n.getFullYear(),s=_(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=se(s),i=_(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=se(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Be(e){const n=k(e);return n.setHours(0,0,0,0),n}function ze(e){const n=k(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function ct(e,n){const r=Be(e),s=Be(n),a=+r-ze(r),i=+s-ze(s);return Math.round((a-i)/Vt)}function Qt(e){const n=lt(e),r=_(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),se(r)}function Kt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Jt(e){if(!Kt(e)&&typeof e!="number")return!1;const n=k(e);return!isNaN(Number(n))}function dt(e,n){const r=k(e),s=k(n),a=He(r,s),i=Math.abs(ct(r,s));r.setDate(r.getDate()-a*i);const o=+(He(r,s)===-a),l=a*(i-o);return l===0?0:l}function He(e,n){const r=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return r<0?-1:r>0?1:r}function Zt(e){const n=k(e),r=_(e,0);return r.setFullYear(n.getFullYear(),0,1),r.setHours(0,0,0,0),r}const en={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tn=(e,n,r)=>{let s;const a=en[e];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ve(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},an={date:ve({formats:nn,defaultWidth:"full"}),time:ve({formats:rn,defaultWidth:"full"}),dateTime:ve({formats:sn,defaultWidth:"full"})},on={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ln=(e,n,r,s)=>on[e];function G(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(n):n;return a[i]}}const cn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},un={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fn=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pn={ordinalNumber:fn,era:G({values:cn,defaultWidth:"wide"}),quarter:G({values:dn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:G({values:un,defaultWidth:"wide"}),day:G({values:mn,defaultWidth:"wide"}),dayPeriod:G({values:hn,defaultWidth:"wide",formattingValues:xn,defaultFormattingWidth:"wide"})};function V(e){return(n,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=n.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?bn(l,g=>g.test(o)):gn(l,g=>g.test(o));let h;h=e.valueCallback?e.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const x=n.slice(o.length);return{value:h,rest:x}}}function gn(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function bn(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function vn(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const a=s[0],i=n.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=n.slice(a.length);return{value:o,rest:l}}}const yn=/^(\d+)(th|st|nd|rd)?/i,jn=/\d+/i,Nn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wn={any:[/^b/i,/^(a|c)/i]},Sn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kn={any:[/1/i,/2/i,/3/i,/4/i]},Mn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},In={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},En={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},On={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_n={ordinalNumber:vn({matchPattern:yn,parsePattern:jn,valueCallback:e=>parseInt(e,10)}),era:V({matchPatterns:Nn,defaultMatchWidth:"wide",parsePatterns:wn,defaultParseWidth:"any"}),quarter:V({matchPatterns:Sn,defaultMatchWidth:"wide",parsePatterns:kn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:V({matchPatterns:Mn,defaultMatchWidth:"wide",parsePatterns:In,defaultParseWidth:"any"}),day:V({matchPatterns:Cn,defaultMatchWidth:"wide",parsePatterns:Dn,defaultParseWidth:"any"}),dayPeriod:V({matchPatterns:En,defaultMatchWidth:"any",parsePatterns:On,defaultParseWidth:"any"})},Ln={code:"en-US",formatDistance:tn,formatLong:an,formatRelative:ln,localize:pn,match:_n,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pn(e){const n=k(e);return ct(n,Zt(n))+1}function Tn(e){const n=k(e),r=+se(n)-+Qt(n);return Math.round(r/ot)+1}function ut(e,n){var x,g,p,u;const r=k(e),s=r.getFullYear(),a=ce(),i=(n==null?void 0:n.firstWeekContainsDate)??((g=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((u=(p=a.locale)==null?void 0:p.options)==null?void 0:u.firstWeekContainsDate)??1,o=_(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=X(o,n),d=_(e,0);d.setFullYear(s,0,i),d.setHours(0,0,0,0);const h=X(d,n);return r.getTime()>=l.getTime()?s+1:r.getTime()>=h.getTime()?s:s-1}function Rn(e,n){var l,d,h,x;const r=ce(),s=(n==null?void 0:n.firstWeekContainsDate)??((d=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,a=ut(e,n),i=_(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),X(i,n)}function An(e,n){const r=k(e),s=+X(r,n)-+Rn(r,n);return Math.round(s/ot)+1}function j(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const O={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return j(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):j(r+1,2)},d(e,n){return j(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return j(e.getHours()%12||12,n.length)},H(e,n){return j(e.getHours(),n.length)},m(e,n){return j(e.getMinutes(),n.length)},s(e,n){return j(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return j(a,n.length)}},F={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$e={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return O.y(e,n)},Y:function(e,n,r,s){const a=ut(e,s),i=a>0?a:1-a;if(n==="YY"){const o=i%100;return j(o,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):j(i,n.length)},R:function(e,n){const r=lt(e);return j(r,n.length)},u:function(e,n){const r=e.getFullYear();return j(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return j(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return j(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return O.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return j(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const a=An(e,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):j(a,n.length)},I:function(e,n,r){const s=Tn(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):j(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):O.d(e,n)},D:function(e,n,r){const s=Pn(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):j(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return j(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return j(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return j(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const a=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let a;switch(s===12?a=F.noon:s===0?a=F.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let a;switch(s>=17?a=F.evening:s>=12?a=F.afternoon:s>=4?a=F.morning:a=F.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return O.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):O.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):j(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):j(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):O.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):O.s(e,n)},S:function(e,n){return O.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return Ue(s);case"XXXX":case"XX":return P(s);case"XXXXX":case"XXX":default:return P(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return Ue(s);case"xxxx":case"xx":return P(s);case"xxxxx":case"xxx":default:return P(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ye(s,":");case"OOOO":default:return"GMT"+P(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ye(s,":");case"zzzz":default:return"GMT"+P(s,":")}},t:function(e,n,r){const s=Math.trunc(e.getTime()/1e3);return j(s,n.length)},T:function(e,n,r){const s=e.getTime();return j(s,n.length)}};function Ye(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+n+j(i,2)}function Ue(e,n){return e%60===0?(e>0?"-":"+")+j(Math.abs(e)/60,2):P(e,n)}function P(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),a=j(Math.trunc(s/60),2),i=j(s%60,2);return r+a+n+i}const qe=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},mt=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Wn=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return qe(e,n);let i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",qe(s,n)).replace("{{time}}",mt(a,n))},Fn={p:mt,P:Wn},Bn=/^D+$/,zn=/^Y+$/,Hn=["D","DD","YY","YYYY"];function $n(e){return Bn.test(e)}function Yn(e){return zn.test(e)}function Un(e,n,r){const s=qn(e,n,r);if(console.warn(s),Hn.includes(e))throw new RangeError(s)}function qn(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xn=/^'([^]*?)'?$/,Qn=/''/g,Kn=/[a-zA-Z]/;function N(e,n,r){var x,g,p,u;const s=ce(),a=s.locale??Ln,i=s.firstWeekContainsDate??((g=(x=s.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,o=s.weekStartsOn??((u=(p=s.locale)==null?void 0:p.options)==null?void 0:u.weekStartsOn)??0,l=k(e);if(!Jt(l))throw new RangeError("Invalid time value");let d=n.match(Vn).map(f=>{const m=f[0];if(m==="p"||m==="P"){const c=Fn[m];return c(f,a.formatLong)}return f}).join("").match(Gn).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:Jn(f)};if($e[m])return{isToken:!0,value:f};if(m.match(Kn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(f=>{if(!f.isToken)return f.value;const m=f.value;(Yn(m)||$n(m))&&Un(m,n,String(e));const c=$e[m[0]];return c(l,m,a.localize,h)}).join("")}function Jn(e){const n=e.match(Xn);return n?n[1].replace(Qn,"'"):e}function Ge(e){return+k(e)<Date.now()}function Zn(e,n){return it(e,-n)}const er={},Ve=e=>{let n;const r=new Set,s=(x,g)=>{const p=typeof x=="function"?x(n):x;if(!Object.is(p,n)){const u=n;n=g??(typeof p!="object"||p===null)?p:Object.assign({},n,p),r.forEach(f=>f(n,u))}},a=()=>n,d={setState:s,getState:a,getInitialState:()=>h,subscribe:x=>(r.add(x),()=>r.delete(x)),destroy:()=>{(er?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=n=e(s,a,d);return d},tr=e=>e?Ve(e):Ve;var ht={exports:{}},xt={},ft={exports:{}},pt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z=S;function nr(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rr=typeof Object.is=="function"?Object.is:nr,sr=z.useState,ar=z.useEffect,ir=z.useLayoutEffect,or=z.useDebugValue;function lr(e,n){var r=n(),s=sr({inst:{value:r,getSnapshot:n}}),a=s[0].inst,i=s[1];return ir(function(){a.value=r,a.getSnapshot=n,ye(a)&&i({inst:a})},[e,r,n]),ar(function(){return ye(a)&&i({inst:a}),e(function(){ye(a)&&i({inst:a})})},[e]),or(r),r}function ye(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!rr(e,r)}catch{return!0}}function cr(e,n){return n()}var dr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cr:lr;pt.useSyncExternalStore=z.useSyncExternalStore!==void 0?z.useSyncExternalStore:dr;ft.exports=pt;var ur=ft.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de=S,mr=ur;function hr(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xr=typeof Object.is=="function"?Object.is:hr,fr=mr.useSyncExternalStore,pr=de.useRef,gr=de.useEffect,br=de.useMemo,vr=de.useDebugValue;xt.useSyncExternalStoreWithSelector=function(e,n,r,s,a){var i=pr(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=br(function(){function d(u){if(!h){if(h=!0,x=u,u=s(u),a!==void 0&&o.hasValue){var f=o.value;if(a(f,u))return g=f}return g=u}if(f=g,xr(x,u))return f;var m=s(u);return a!==void 0&&a(f,m)?(x=u,f):(x=u,g=m)}var h=!1,x,g,p=r===void 0?null:r;return[function(){return d(n())},p===null?void 0:function(){return d(p())}]},[n,r,s,a]);var l=fr(e,i[0],i[1]);return gr(function(){o.hasValue=!0,o.value=l},[l]),vr(l),l};ht.exports=xt;var yr=ht.exports;const jr=Et(yr),gt={},{useDebugValue:Nr}=rt,{useSyncExternalStoreWithSelector:wr}=jr;let Xe=!1;const Sr=e=>e;function kr(e,n=Sr,r){(gt?"production":void 0)!=="production"&&r&&!Xe&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xe=!0);const s=wr(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return Nr(s),s}const Mr=e=>{(gt?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof e=="function"?tr(e):e,r=(s,a)=>kr(n,s,a);return Object.assign(r,n),r},ue=e=>Mr,Ir={};function Cr(e,n){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Q=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(s){return Q(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Q(s)(r)}}}},Dr=(e,n)=>(r,s,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:c=>c,version:0,merge:(c,b)=>({...b,...c}),...n},o=!1;const l=new Set,d=new Set;let h;try{h=i.getStorage()}catch{}if(!h)return e((...c)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...c)},s,a);const x=Q(i.serialize),g=()=>{const c=i.partialize({...s()});let b;const v=x({state:c,version:i.version}).then(w=>h.setItem(i.name,w)).catch(w=>{b=w});if(b)throw b;return v},p=a.setState;a.setState=(c,b)=>{p(c,b),g()};const u=e((...c)=>{r(...c),g()},s,a);let f;const m=()=>{var c;if(!h)return;o=!1,l.forEach(v=>v(s()));const b=((c=i.onRehydrateStorage)==null?void 0:c.call(i,s()))||void 0;return Q(h.getItem.bind(h))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var w;return f=i.merge(v,(w=s())!=null?w:u),r(f,!0),g()}).then(()=>{b==null||b(f,void 0),o=!0,d.forEach(v=>v(f))}).catch(v=>{b==null||b(void 0,v)})};return a.persist={setOptions:c=>{i={...i,...c},c.getStorage&&(h=c.getStorage())},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:c=>(l.add(c),()=>{l.delete(c)}),onFinishHydration:c=>(d.add(c),()=>{d.delete(c)})},m(),f||u},Er=(e,n)=>(r,s,a)=>{let i={storage:Cr(()=>localStorage),partialize:m=>m,version:0,merge:(m,c)=>({...c,...m}),...n},o=!1;const l=new Set,d=new Set;let h=i.storage;if(!h)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},s,a);const x=()=>{const m=i.partialize({...s()});return h.setItem(i.name,{state:m,version:i.version})},g=a.setState;a.setState=(m,c)=>{g(m,c),x()};const p=e((...m)=>{r(...m),x()},s,a);a.getInitialState=()=>p;let u;const f=()=>{var m,c;if(!h)return;o=!1,l.forEach(v=>{var w;return v((w=s())!=null?w:p)});const b=((c=i.onRehydrateStorage)==null?void 0:c.call(i,(m=s())!=null?m:p))||void 0;return Q(h.getItem.bind(h))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[$,Y]=v;if(u=i.merge(Y,(w=s())!=null?w:p),r(u,!0),$)return x()}).then(()=>{b==null||b(u,void 0),u=s(),o=!0,d.forEach(v=>v(u))}).catch(v=>{b==null||b(void 0,v)})};return a.persist={setOptions:m=>{i={...i,...m},m.storage&&(h=m.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(d.add(m),()=>{d.delete(m)})},i.skipHydration||f(),u||p},Or=(e,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((Ir?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Dr(e,n)):Er(e,n),me=Or;var bt=Symbol.for("immer-nothing"),Qe=Symbol.for("immer-draftable"),M=Symbol.for("immer-state");function C(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var K=Object.getPrototypeOf;function H(e){return!!e&&!!e[M]}function A(e){var n;return e?vt(e)||Array.isArray(e)||!!e[Qe]||!!((n=e.constructor)!=null&&n[Qe])||ee(e)||xe(e):!1}var _r=Object.prototype.constructor.toString(),Ke=new WeakMap;function vt(e){if(!e||typeof e!="object")return!1;const n=Object.getPrototypeOf(e);if(n===null||n===Object.prototype)return!0;const r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let s=Ke.get(r);return s===void 0&&(s=Function.toString.call(r),Ke.set(r,s)),s===_r}function ae(e,n,r=!0){he(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{n(a,e[a],e)}):e.forEach((s,a)=>n(a,s,e))}function he(e){const n=e[M];return n?n.type_:Array.isArray(e)?1:ee(e)?2:xe(e)?3:0}function ke(e,n){return he(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function yt(e,n,r){const s=he(e);s===2?e.set(n,r):s===3?e.add(r):e[n]=r}function Lr(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function ee(e){return e instanceof Map}function xe(e){return e instanceof Set}function T(e){return e.copy_||e.base_}function Me(e,n){if(ee(e))return new Map(e);if(xe(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vt(e);if(n===!0||n==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[M];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],l=s[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(K(e),s)}else{const s=K(e);if(s!==null&&r)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function Oe(e,n=!1){return fe(e)||H(e)||!A(e)||(he(e)>1&&Object.defineProperties(e,{set:re,add:re,clear:re,delete:re}),Object.freeze(e),n&&Object.values(e).forEach(r=>Oe(r,!0))),e}function Pr(){C(2)}var re={value:Pr};function fe(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Tr={};function W(e){const n=Tr[e];return n||C(0,e),n}var J;function jt(){return J}function Rr(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Je(e,n){n&&(W("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function Ie(e){Ce(e),e.drafts_.forEach(Ar),e.drafts_=null}function Ce(e){e===J&&(J=e.parent_)}function Ze(e){return J=Rr(J,e)}function Ar(e){const n=e[M];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function et(e,n){n.unfinalizedDrafts_=n.drafts_.length;const r=n.drafts_[0];return e!==void 0&&e!==r?(r[M].modified_&&(Ie(n),C(4)),A(e)&&(e=ie(n,e),n.parent_||oe(n,e)),n.patches_&&W("Patches").generateReplacementPatches_(r[M].base_,e,n.patches_,n.inversePatches_)):e=ie(n,r,[]),Ie(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==bt?e:void 0}function ie(e,n,r){if(fe(n))return n;const s=e.immer_.shouldUseStrictIteration(),a=n[M];if(!a)return ae(n,(i,o)=>tt(e,a,n,i,o,r),s),n;if(a.scope_!==e)return n;if(!a.modified_)return oe(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),ae(o,(d,h)=>tt(e,a,i,d,h,r,l),s),oe(e,i,!1),r&&e.patches_&&W("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function tt(e,n,r,s,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=fe(a);if(!(l&&!o)){if(H(a)){const d=i&&n&&n.type_!==3&&!ke(n.assigned_,s)?i.concat(s):void 0,h=ie(e,a,d);if(yt(r,s,h),H(h))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(A(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||n&&n.base_&&n.base_[s]===a&&l)return;ie(e,a),(!n||!n.scope_.parent_)&&typeof s!="symbol"&&(ee(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&oe(e,a)}}}function oe(e,n,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Oe(n,r)}function Wr(e,n){const r=Array.isArray(e),s={type_:r?1:0,scope_:n?n.scope_:jt(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=_e;r&&(a=[s],i=Z);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return s.draft_=l,s.revoke_=o,l}var _e={get(e,n){if(n===M)return e;const r=T(e);if(!ke(r,n))return Fr(e,r,n);const s=r[n];return e.finalized_||!A(s)?s:s===je(e.base_,n)?(Ne(e),e.copy_[n]=Ee(s,e)):s},has(e,n){return n in T(e)},ownKeys(e){return Reflect.ownKeys(T(e))},set(e,n,r){const s=Nt(T(e),n);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=je(T(e),n),i=a==null?void 0:a[M];if(i&&i.base_===r)return e.copy_[n]=r,e.assigned_[n]=!1,!0;if(Lr(r,a)&&(r!==void 0||ke(e.base_,n)))return!0;Ne(e),De(e)}return e.copy_[n]===r&&(r!==void 0||n in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=r,e.assigned_[n]=!0),!0},deleteProperty(e,n){return je(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,Ne(e),De(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const r=T(e),s=Reflect.getOwnPropertyDescriptor(r,n);return s&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:s.enumerable,value:r[n]}},defineProperty(){C(11)},getPrototypeOf(e){return K(e.base_)},setPrototypeOf(){C(12)}},Z={};ae(_e,(e,n)=>{Z[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Z.deleteProperty=function(e,n){return Z.set.call(this,e,n,void 0)};Z.set=function(e,n,r){return _e.set.call(this,e[0],n,r,e[0])};function je(e,n){const r=e[M];return(r?T(r):e)[n]}function Fr(e,n,r){var a;const s=Nt(n,r);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(e.draft_):void 0}function Nt(e,n){if(!(n in e))return;let r=K(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,n);if(s)return s;r=K(r)}}function De(e){e.modified_||(e.modified_=!0,e.parent_&&De(e.parent_))}function Ne(e){e.copy_||(e.copy_=Me(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Br=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(n,r,s)=>{if(typeof n=="function"&&typeof r!="function"){const i=r;r=n;const o=this;return function(d=i,...h){return o.produce(d,x=>r.call(this,x,...h))}}typeof r!="function"&&C(6),s!==void 0&&typeof s!="function"&&C(7);let a;if(A(n)){const i=Ze(this),o=Ee(n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Ie(i):Ce(i)}return Je(i,s),et(a,i)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===bt&&(a=void 0),this.autoFreeze_&&Oe(a,!0),s){const i=[],o=[];W("Patches").generateReplacementPatches_(n,a,i,o),s(i,o)}return a}else C(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(o,...l)=>this.produceWithPatches(o,d=>n(d,...l));let s,a;return[this.produce(n,r,(o,l)=>{s=o,a=l}),s,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){A(e)||C(8),H(e)&&(e=zr(e));const n=Ze(this),r=Ee(e,void 0);return r[M].isManual_=!0,Ce(n),r}finishDraft(e,n){const r=e&&e[M];(!r||!r.isManual_)&&C(9);const{scope_:s}=r;return Je(s,n),et(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const s=W("Patches").applyPatches_;return H(e)?s(e,n):this.produce(e,a=>s(a,n))}};function Ee(e,n){const r=ee(e)?W("MapSet").proxyMap_(e,n):xe(e)?W("MapSet").proxySet_(e,n):Wr(e,n);return(n?n.scope_:jt()).drafts_.push(r),r}function zr(e){return H(e)||C(10,e),wt(e)}function wt(e){if(!A(e)||fe(e))return e;const n=e[M];let r,s=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=Me(e,n.scope_.immer_.useStrictShallowCopy_),s=n.scope_.immer_.shouldUseStrictIteration()}else r=Me(e,!0);return ae(r,(a,i)=>{yt(r,a,wt(i))},s),n&&(n.finalized_=!1),r}var Hr=new Br,$r=Hr.produce;const Yr=e=>(n,r,s)=>(s.setState=(a,i,...o)=>{const l=typeof a=="function"?$r(a):a;return n(l,i,...o)},e(s.setState,r,s)),pe=Yr,Ur=ue()(me(pe(e=>({schedules:[],currentSchedule:null,conflicts:[],loading:!1,error:null,setSchedules:n=>e(r=>{r.schedules=n}),setCurrentSchedule:n=>e(r=>{r.currentSchedule=n}),addScheduleEntry:n=>e(r=>{r.currentSchedule&&(r.currentSchedule.entries.push(n),r.currentSchedule.updatedAt=new Date)}),updateScheduleEntry:(n,r)=>e(s=>{if(s.currentSchedule){const a=s.currentSchedule.entries.findIndex(i=>i.id===n);a!==-1&&(s.currentSchedule.entries[a]={...s.currentSchedule.entries[a],...r,updatedAt:new Date})}}),removeScheduleEntry:n=>e(r=>{r.currentSchedule&&(r.currentSchedule.entries=r.currentSchedule.entries.filter(s=>s.id!==n),r.currentSchedule.updatedAt=new Date)}),detectConflicts:n=>e(r=>{const s=r.schedules.find(o=>o.id===n);if(!s)return;const a=[],i=new Map;s.entries.forEach(o=>{const l=o.staffId;i.has(l)||i.set(l,new Set);const d=i.get(l);d.has(o.timeSlotId)?a.push({type:"DOUBLE_BOOKING",staffId:o.staffId,timeSlotId:o.timeSlotId,message:"Staff member is double-booked for this time slot",severity:"ERROR"}):d.add(o.timeSlotId)}),r.conflicts=a}),publishSchedule:n=>e(r=>{const s=r.schedules.find(a=>a.id===n);s&&(s.published=!0,s.updatedAt=new Date)}),setLoading:n=>e(r=>{r.loading=n}),setError:n=>e(r=>{r.error=n}),clearConflicts:()=>e(n=>{n.conflicts=[]})})),{name:"schedule-storage",partialize:e=>({schedules:e.schedules,currentSchedule:e.currentSchedule})})),te=ue()(me(pe(e=>({staff:[],selectedStaff:null,loading:!1,error:null,setStaff:n=>e(r=>{r.staff=n}),addStaff:n=>e(r=>{r.staff.push(n)}),updateStaff:(n,r)=>e(s=>{const a=s.staff.findIndex(i=>i.id===n);a!==-1&&(s.staff[a]={...s.staff[a],...r})}),removeStaff:n=>e(r=>{r.staff=r.staff.filter(s=>s.id!==n)}),setSelectedStaff:n=>e(r=>{r.selectedStaff=n}),addCertification:(n,r)=>e(s=>{const a=s.staff.findIndex(i=>i.id===n);a!==-1&&s.staff[a].certifications.push(r)}),updateCertification:(n,r,s)=>e(a=>{const i=a.staff.findIndex(o=>o.id===n);if(i!==-1){const o=a.staff[i].certifications.findIndex(l=>l.id===r);o!==-1&&(a.staff[i].certifications[o]={...a.staff[i].certifications[o],...s})}}),removeCertification:(n,r)=>e(s=>{const a=s.staff.findIndex(i=>i.id===n);a!==-1&&(s.staff[a].certifications=s.staff[a].certifications.filter(i=>i.id!==r))}),addAvailability:(n,r)=>e(s=>{const a=s.staff.findIndex(i=>i.id===n);a!==-1&&s.staff[a].availability.push(r)}),updateAvailability:(n,r,s)=>e(a=>{const i=a.staff.findIndex(o=>o.id===n);if(i!==-1){const o=a.staff[i].availability.findIndex(l=>l.id===r);o!==-1&&(a.staff[i].availability[o]={...a.staff[i].availability[o],...s})}}),removeAvailability:(n,r)=>e(s=>{const a=s.staff.findIndex(i=>i.id===n);a!==-1&&(s.staff[a].availability=s.staff[a].availability.filter(i=>i.id!==r))}),setLoading:n=>e(r=>{r.loading=n}),setError:n=>e(r=>{r.error=n})})),{name:"staff-storage",partialize:e=>({staff:e.staff})})),qr=(e,n,r={format:"PDF"})=>{const s=new Wt;s.setFontSize(18),s.setTextColor(0,102,204),s.text("Daily Staff Schedule",14,22),s.setFontSize(12),s.setTextColor(102,102,102),s.text(`Date: ${N(e.date,"MMMM dd, yyyy")}`,14,32);const a=e.entries.map(o=>{const l=n.find(d=>d.id===o.staffId);return[`${(l==null?void 0:l.firstName)||""} ${(l==null?void 0:l.lastName)||""}`,o.role,o.station||"-",o.isBreak?"Break":"Active",o.notes||"-"]});Ft(s,{head:[["Staff Name","Role","Station","Status","Notes"]],body:a,startY:40,theme:"grid",headStyles:{fillColor:[0,102,204],textColor:[255,255,255],fontStyle:"bold",fontSize:10},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[230,242,255]},margin:{top:40,right:14,bottom:20,left:14}});const i=s.internal.pages.length-1;s.setFontSize(8),s.setTextColor(128,128,128);for(let o=1;o<=i;o++)s.setPage(o),s.text(`Page ${o} of ${i}`,s.internal.pageSize.width/2,s.internal.pageSize.height-10,{align:"center"}),s.text(`Generated: ${N(new Date,"MM/dd/yyyy HH:mm")}`,14,s.internal.pageSize.height-10);s.save(`schedule_${N(e.date,"yyyy-MM-dd")}.pdf`)},Gr=(e,n,r={format:"EXCEL"})=>{const s=[["Daily Staff Schedule"],[`Date: ${N(e.date,"MMMM dd, yyyy")}`],[],["Staff Name","Role","Station","Status","Notes"],...e.entries.map(o=>{const l=n.find(d=>d.id===o.staffId);return[`${(l==null?void 0:l.firstName)||""} ${(l==null?void 0:l.lastName)||""}`,o.role,o.station||"-",o.isBreak?"Break":"Active",o.notes||"-"]})],a=be.book_new(),i=be.aoa_to_sheet(s);i["!cols"]=[{wch:20},{wch:25},{wch:15},{wch:10},{wch:30}],i.A1.s={font:{bold:!0,sz:14,color:{rgb:"0066cc"}}},be.book_append_sheet(a,i,"Schedule"),At(a,`schedule_${N(e.date,"yyyy-MM-dd")}.xlsx`)},Vr=(e,n)=>{const s=[["Daily Staff Schedule"],[`Date: ${N(e.date,"MMMM dd, yyyy")}`],[],["Staff Name","Role","Station","Status","Notes"],...e.entries.map(l=>{const d=n.find(h=>h.id===l.staffId);return[`${(d==null?void 0:d.firstName)||""} ${(d==null?void 0:d.lastName)||""}`,l.role,l.station||"-",l.isBreak?"Break":"Active",l.notes||"-"]})].map(l=>l.join(",")).join(`
`),a=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),o=URL.createObjectURL(a);i.setAttribute("href",o),i.setAttribute("download",`schedule_${N(e.date,"yyyy-MM-dd")}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},Xr=(e,n,r)=>{try{switch(r.format){case"PDF":qr(e,n,r);break;case"EXCEL":Gr(e,n,r);break;case"CSV":Vr(e,n);break;default:throw new Error(`Unsupported export format: ${r.format}`)}}catch(s){throw console.error("Export failed:",s),new Error(`Failed to export schedule: ${s instanceof Error?s.message:"Unknown error"}`)}},B=e=>{const[n,r]=e.split(":").map(Number);return n*60+r},Qr=(e,n)=>{const r=B(e.startTime),s=B(e.endTime),a=B(n.startTime),i=B(n.endTime);return r<i&&a<s},Kr=(e,n,r,s)=>{const a=[],i=r.find(p=>p.id===e.staffId),o=s.find(p=>p.id===e.timeSlotId);if(!i)return a.push({type:"DOUBLE_BOOKING",staffId:e.staffId,timeSlotId:e.timeSlotId,message:"Staff member not found",severity:"ERROR"}),a;if(!o)return a.push({type:"DOUBLE_BOOKING",staffId:e.staffId,timeSlotId:e.timeSlotId,message:"Time slot not found",severity:"ERROR"}),a;const l=n.filter(p=>p.id!==e.id&&p.staffId===e.staffId&&p.date.getTime()===e.date.getTime());for(const p of l){const u=s.find(f=>f.id===p.timeSlotId);u&&Qr({startTime:o.startTime,endTime:o.endTime},{startTime:u.startTime,endTime:u.endTime})&&a.push({type:"DOUBLE_BOOKING",staffId:e.staffId,timeSlotId:e.timeSlotId,message:`${i.firstName} ${i.lastName} is already scheduled during this time`,severity:"ERROR"})}const d=i.certifications.filter(p=>new Date(p.expirationDate)<new Date);d.length>0&&a.push({type:"CERTIFICATION_EXPIRED",staffId:e.staffId,timeSlotId:e.timeSlotId,message:`${i.firstName} ${i.lastName} has ${d.length} expired certification(s)`,severity:"WARNING"});const h=n.filter(p=>p.staffId===e.staffId&&p.date.getTime()===e.date.getTime()&&!p.isBreak),x=h.reduce((p,u)=>{const f=s.find(c=>c.id===u.timeSlotId);if(!f)return p;const m=B(f.endTime)-B(f.startTime);return p+m},0);x>480&&a.push({type:"OVERTIME",staffId:e.staffId,timeSlotId:e.timeSlotId,message:`${i.firstName} ${i.lastName} is scheduled for ${Math.round(x/60)} hours (overtime)`,severity:"WARNING"});const g=h.some(p=>p.isBreak);return x>=240&&!g&&a.push({type:"BREAK_VIOLATION",staffId:e.staffId,timeSlotId:e.timeSlotId,message:`${i.firstName} ${i.lastName} needs a break (scheduled for ${Math.round(x/60)}+ hours)`,severity:"WARNING"}),a};var D=(e=>(e.LEAD_PHLEBOTOMIST="Lead Phlebotomist",e.SENIOR_PHLEBOTOMIST="Senior Phlebotomist",e.PHLEBOTOMIST="Phlebotomist",e.PHLEBOTOMY_TECHNICIAN="Phlebotomy Technician",e.FLOAT_PHLEBOTOMIST="Float Phlebotomist",e))(D||{});const Jr=({timeSlot:e,entries:n,staff:r,onRemoveEntry:s,onUpdateEntry:a})=>{const[i,o]=S.useState(null),[l,d]=S.useState(""),[h,x]=S.useState(""),{setNodeRef:g,isOver:p}=Lt({id:e.id}),u=c=>{o(c.id),d(c.notes||""),x(c.station||"")},f=c=>{a(c,{notes:l,station:h}),o(null)},m=()=>{o(null),d(""),x("")};return t.jsxs("div",{ref:g,className:`
        border-2 border-dashed rounded-lg p-4 transition-all
        ${p?"border-primary-500 bg-primary-50":"border-neutral-300 bg-white"}
        ${n.length>0?"bg-neutral-50":""}
        hover:border-primary-400
      `,role:"region","aria-label":`Time slot ${e.startTime} to ${e.endTime}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg font-semibold text-primary-700",children:e.startTime}),t.jsx("span",{className:"text-neutral-500",children:"-"}),t.jsx("span",{className:"text-lg font-semibold text-primary-700",children:e.endTime})]}),t.jsx("div",{className:"flex items-center gap-2",children:n.length>0&&t.jsxs("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded-full font-semibold",children:[n.length," ",n.length===1?"Staff":"Staff Members"]})})]}),n.length>0?t.jsx("div",{className:"space-y-2",children:n.map(c=>{const b=r.find(w=>w.id===c.staffId);if(!b)return null;const v=i===c.id;return t.jsx("div",{className:`
                  p-3 rounded-lg border-l-4 transition-all
                  ${c.isBreak?"bg-warning-50 border-warning-500":"bg-white border-primary-500"}
                  shadow-sm hover:shadow-md
                `,children:v?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"font-semibold text-neutral-900",children:[b.firstName," ",b.lastName,b.nickname&&t.jsxs("span",{className:"text-neutral-500 text-sm ml-2",children:["(",b.nickname,")"]})]}),t.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded",children:c.role})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label text-xs",children:"Station"}),t.jsx("input",{type:"text",value:h,onChange:w=>x(w.target.value),className:"form-input text-sm",placeholder:"e.g., Station A, Room 101"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label text-xs",children:"Notes"}),t.jsx("textarea",{value:l,onChange:w=>d(w.target.value),className:"form-textarea text-sm",rows:2,placeholder:"Add notes..."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>f(c.id),className:"btn btn-sm btn-success text-xs",children:"Save"}),t.jsx("button",{onClick:m,className:"btn btn-sm bg-neutral-300 hover:bg-neutral-400 text-xs",children:"Cancel"})]})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"font-semibold text-neutral-900",children:[b.firstName," ",b.lastName,b.nickname&&t.jsxs("span",{className:"text-neutral-500 text-sm ml-2",children:["(",b.nickname,")"]})]}),c.isBreak&&t.jsx("span",{className:"text-xs bg-warning-500 text-white px-2 py-0.5 rounded font-semibold",children:"BREAK"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>u(c),className:"p-1 hover:bg-neutral-200 rounded transition-colors","aria-label":"Edit entry",title:"Edit",children:t.jsx("svg",{className:"w-4 h-4 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),t.jsx("button",{onClick:()=>s(c.id),className:"p-1 hover:bg-danger-100 rounded transition-colors","aria-label":"Remove entry",title:"Delete",children:t.jsx("svg",{className:"w-4 h-4 text-danger-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),t.jsxs("div",{className:"text-xs text-neutral-600 space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Role:"}),t.jsx("span",{className:"bg-primary-100 text-primary-700 px-2 py-0.5 rounded",children:c.role})]}),c.station&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Station:"}),t.jsx("span",{children:c.station})]}),c.notes&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Notes:"}),t.jsx("span",{className:"flex-1",children:c.notes})]})]})]})},c.id)})}):t.jsxs("div",{className:"text-center py-6 text-neutral-400",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})}),t.jsx("p",{className:"text-sm",children:"Drag staff member here to assign"})]})]})},nt=({staff:e,isDragging:n=!1})=>{const{attributes:r,listeners:s,setNodeRef:a,transform:i}=Pt({id:e.id}),o=i?{transform:Tt.Translate.toString(i)}:void 0,l=e.certifications.filter(x=>{const g=dt(new Date(x.expirationDate),new Date);return g>0&&g<=30}),d=e.certifications.filter(x=>new Date(x.expirationDate)<new Date),h=x=>({"Lead Phlebotomist":"bg-purple-500","Senior Phlebotomist":"bg-blue-500",Phlebotomist:"bg-green-500","Phlebotomy Technician":"bg-yellow-500","Float Phlebotomist":"bg-orange-500"})[x]||"bg-neutral-500";return t.jsxs("div",{ref:a,style:o,...r,...s,className:`
        bg-white border-2 rounded-lg p-3 cursor-grab active:cursor-grabbing
        transition-all duration-200
        ${n?"border-primary-500 shadow-strong opacity-50 scale-95":"border-neutral-200 shadow-sm hover:shadow-md hover:border-primary-300"}
      `,role:"button","aria-label":`Drag ${e.firstName} ${e.lastName} to assign to time slot`,tabIndex:0,children:[t.jsxs("div",{className:"mb-2",children:[t.jsxs("h3",{className:"font-semibold text-neutral-900 text-sm",children:[e.firstName," ",e.lastName]}),e.nickname&&t.jsxs("p",{className:"text-xs text-neutral-500",children:["(",e.nickname,")"]})]}),t.jsx("div",{className:"mb-2",children:t.jsx("span",{className:`
            inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold text-white
            ${h(e.role)}
          `,children:e.role})}),d.length>0&&t.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[t.jsx("svg",{className:"w-3 h-3 text-danger-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsxs("span",{className:"text-xs text-danger-600 font-semibold",children:[d.length," Expired Cert",d.length>1?"s":""]})]}),l.length>0&&d.length===0&&t.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[t.jsx("svg",{className:"w-3 h-3 text-warning-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-xs text-warning-600 font-semibold",children:"Cert Expiring Soon"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-neutral-600",children:[t.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("span",{children:[e.availability.length," availability slot",e.availability.length!==1?"s":""]})]}),t.jsxs("span",{className:"sr-only",children:["Email: ",e.email,", Phone: ",e.phone]})]})},Zr=({conflicts:e,staff:n,onDismiss:r})=>{if(e.length===0)return null;const s=d=>{switch(d){case"ERROR":return t.jsx("svg",{className:"w-5 h-5 text-danger-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"WARNING":return t.jsx("svg",{className:"w-5 h-5 text-warning-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"INFO":return t.jsx("svg",{className:"w-5 h-5 text-secondary-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}},a=d=>{switch(d){case"ERROR":return"bg-danger-50 border-danger-500";case"WARNING":return"bg-warning-50 border-warning-500";case"INFO":return"bg-secondary-50 border-secondary-500"}},i=e.filter(d=>d.severity==="ERROR"),o=e.filter(d=>d.severity==="WARNING"),l=e.filter(d=>d.severity==="INFO");return t.jsxs("div",{className:"space-y-4",role:"alert","aria-live":"assertive",children:[i.length>0&&t.jsxs("div",{className:`border-l-4 rounded-lg p-4 ${a("ERROR")}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[s("ERROR"),t.jsxs("h3",{className:"font-bold text-danger-700",children:[i.length," Critical Error",i.length>1?"s":""," Found"]})]}),r&&t.jsx("button",{onClick:r,className:"text-danger-700 hover:text-danger-900","aria-label":"Dismiss errors",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("ul",{className:"space-y-2 text-sm text-danger-700",children:i.map((d,h)=>{const x=n.find(g=>g.id===d.staffId);return t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-semibold mt-0.5",children:"•"}),t.jsxs("div",{children:[t.jsxs("span",{className:"font-semibold",children:[x?`${x.firstName} ${x.lastName}`:"Unknown Staff",":"]})," ",d.message,t.jsxs("div",{className:"text-xs mt-1 text-danger-600",children:[t.jsx("strong",{children:"Action Required:"})," Remove or reschedule this assignment"]})]})]},h)})})]}),o.length>0&&t.jsxs("div",{className:`border-l-4 rounded-lg p-4 ${a("WARNING")}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[s("WARNING"),t.jsxs("h3",{className:"font-bold text-warning-700",children:[o.length," Warning",o.length>1?"s":""]})]}),r&&t.jsx("button",{onClick:r,className:"text-warning-700 hover:text-warning-900","aria-label":"Dismiss warnings",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("ul",{className:"space-y-2 text-sm text-warning-700",children:o.map((d,h)=>{const x=n.find(g=>g.id===d.staffId);return t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-semibold mt-0.5",children:"•"}),t.jsxs("div",{children:[t.jsxs("span",{className:"font-semibold",children:[x?`${x.firstName} ${x.lastName}`:"Unknown Staff",":"]})," ",d.message,t.jsxs("div",{className:"text-xs mt-1 text-warning-600",children:[t.jsx("strong",{children:"Recommendation:"})," Review and address this issue when possible"]})]})]},h)})})]}),l.length>0&&t.jsxs("div",{className:`border-l-4 rounded-lg p-4 ${a("INFO")}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[s("INFO"),t.jsxs("h3",{className:"font-bold text-secondary-700",children:[l.length," Information Notice",l.length>1?"s":""]})]}),r&&t.jsx("button",{onClick:r,className:"text-secondary-700 hover:text-secondary-900","aria-label":"Dismiss info",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("ul",{className:"space-y-2 text-sm text-secondary-700",children:l.map((d,h)=>{const x=n.find(g=>g.id===d.staffId);return t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-semibold mt-0.5",children:"•"}),t.jsxs("div",{children:[t.jsxs("span",{className:"font-semibold",children:[x?`${x.firstName} ${x.lastName}`:"Unknown Staff",":"]})," ",d.message]})]},h)})})]}),t.jsxs("div",{className:"text-xs text-neutral-600 bg-neutral-100 p-3 rounded-lg",children:[t.jsx("strong",{children:"Conflict Summary:"})," ",i.length," error(s), ",o.length," warning(s), ",l.length," info"]})]})},we=Array.from({length:14},(e,n)=>({id:`slot-${n}`,startTime:`${(6+n).toString().padStart(2,"0")}:00`,endTime:`${(7+n).toString().padStart(2,"0")}:00`,date:new Date})),es=()=>{const[e,n]=S.useState(new Date),[r,s]=S.useState(null),[a,i]=S.useState(!1),{currentSchedule:o,setCurrentSchedule:l,addScheduleEntry:d,updateScheduleEntry:h,removeScheduleEntry:x,conflicts:g,detectConflicts:p,clearConflicts:u}=Ur(),{staff:f}=te(),m=S.useMemo(()=>o?o.entries.filter(y=>N(y.date,"yyyy-MM-dd")===N(e,"yyyy-MM-dd")):[],[o,e]);S.useEffect(()=>{(!o||N(o.date,"yyyy-MM-dd")!==N(e,"yyyy-MM-dd"))&&l({id:`schedule-${N(e,"yyyy-MM-dd")}`,date:e,entries:[],createdBy:"system",updatedBy:"system",createdAt:new Date,updatedAt:new Date,published:!1})},[e,o,l]),S.useEffect(()=>{o&&p(o.id)},[o==null?void 0:o.entries.length,p]);const c=y=>{s(y.active.id)},b=y=>{const{active:I,over:E}=y;if(s(null),!E)return;const ne=I.id,U=E.id;if(!U.startsWith("slot-")||!we.find(L=>L.id===U))return;const Te=f.find(L=>L.id===ne);if(!Te)return;const Re={id:`entry-${Date.now()}`,staffId:ne,timeSlotId:U,date:e,role:Te.role,station:"",notes:"",isBreak:!1,createdAt:new Date,updatedAt:new Date},Ae=Kr(Re,m,f,we);if(Ae.some(L=>L.severity==="ERROR")){alert("Cannot add entry: "+Ae.map(L=>L.message).join(", "));return}d(Re)},v=y=>{confirm("Are you sure you want to remove this schedule entry?")&&x(y)},w=(y,I)=>{h(y,I)},$=(y,I)=>{const E=f.find(U=>U.id===y);if(!E)return;const ne={id:`break-${Date.now()}`,staffId:y,timeSlotId:I,date:e,role:E.role,notes:"Break",isBreak:!0,createdAt:new Date,updatedAt:new Date};d(ne)},Y=y=>{if(!o)return;const I={format:y};try{Xr(o,f,I),i(!1)}catch(E){alert("Export failed: "+(E instanceof Error?E.message:"Unknown error"))}},Pe=y=>{y<0?n(Zn(e,Math.abs(y))):n(it(e,y)),u()},kt=y=>m.filter(I=>I.timeSlotId===y);return t.jsxs("div",{className:"min-h-screen bg-neutral-50 p-6",children:[t.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),t.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-primary-700 mb-2",children:"Interactive Schedule Manager"}),t.jsx("p",{className:"text-neutral-600",children:"Phlebotomy Staff Daily Schedule"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>Pe(-1),className:"btn btn-secondary","aria-label":"Previous day",children:"← Previous"}),t.jsx("input",{type:"date",value:N(e,"yyyy-MM-dd"),onChange:y=>n(new Date(y.target.value)),className:"form-input","aria-label":"Select date"}),t.jsx("button",{onClick:()=>Pe(1),className:"btn btn-secondary","aria-label":"Next day",children:"Next →"})]})]}),t.jsx("div",{className:"mt-6 bg-primary-50 border-l-4 border-primary-500 p-4 rounded-lg",children:t.jsx("p",{className:"text-lg font-semibold text-primary-700 text-center",children:N(e,"EEEE, MMMM dd, yyyy")})})]})}),g.length>0&&t.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:t.jsx(Zr,{conflicts:g,staff:f})}),t.jsx("div",{className:"max-w-7xl mx-auto",id:"main-content",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6 sticky top-6",children:[t.jsx("h2",{className:"text-xl font-bold text-primary-700 mb-4",children:"Available Staff"}),t.jsxs(We,{onDragStart:c,onDragEnd:b,children:[t.jsx("div",{className:"space-y-3",children:f.filter(y=>y.active).map(y=>t.jsx(nt,{staff:y,isDragging:r===y.id},y.id))}),t.jsx(Rt,{children:r?t.jsx(nt,{staff:f.find(y=>y.id===r),isDragging:!0}):null})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-neutral-700 mb-2",children:"Role Legend"}),t.jsx("div",{className:"space-y-2 text-xs",children:Object.values(D).map(y=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full"}),t.jsx("span",{children:y})]},y))})]})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-primary-700",children:"Daily Schedule (6:00 AM - 8:00 PM)"}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>i(!a),className:"btn btn-primary",children:"Export Schedule"}),a&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-strong border border-neutral-200 py-2 z-10",children:[t.jsx("button",{onClick:()=>Y("PDF"),className:"w-full px-4 py-2 text-left hover:bg-primary-50 transition-colors",children:"Export as PDF"}),t.jsx("button",{onClick:()=>Y("EXCEL"),className:"w-full px-4 py-2 text-left hover:bg-primary-50 transition-colors",children:"Export as Excel"}),t.jsx("button",{onClick:()=>Y("CSV"),className:"w-full px-4 py-2 text-left hover:bg-primary-50 transition-colors",children:"Export as CSV"})]})]})]}),t.jsx(We,{onDragEnd:b,children:t.jsx("div",{className:"space-y-4",children:we.map(y=>{const I=kt(y.id);return t.jsx(Jr,{timeSlot:y,entries:I,staff:f,onRemoveEntry:v,onUpdateEntry:w,onAddBreak:$},y.id)})})})]})})]})}),t.jsx("div",{className:"max-w-7xl mx-auto mt-6",children:t.jsxs("div",{className:"bg-secondary-50 border-l-4 border-secondary-500 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-secondary-700 mb-2",children:"How to Use"}),t.jsxs("ul",{className:"text-sm text-secondary-700 space-y-1",children:[t.jsx("li",{children:"• Drag staff members from the left sidebar to time slots to create schedule entries"}),t.jsx("li",{children:"• Click the edit icon to modify entry details"}),t.jsx("li",{children:"• Click the delete icon to remove an entry"}),t.jsx("li",{children:"• System automatically detects conflicts and displays warnings"}),t.jsx("li",{children:"• Use export buttons to generate PDF or Excel reports"})]})]})})]})},ts=()=>t.jsx("div",{children:t.jsx(es,{})}),Le=ue()(me(pe((e,n)=>({meetings:[],selectedMeeting:null,loading:!1,error:null,setMeetings:r=>e(s=>{s.meetings=r}),addMeeting:r=>e(s=>{s.meetings.push(r)}),updateMeeting:(r,s)=>e(a=>{const i=a.meetings.findIndex(o=>o.id===r);i!==-1&&(a.meetings[i]={...a.meetings[i],...s,updatedAt:new Date})}),removeMeeting:r=>e(s=>{s.meetings=s.meetings.filter(a=>a.id!==r)}),setSelectedMeeting:r=>e(s=>{s.selectedMeeting=r}),addActionItem:(r,s)=>e(a=>{const i=a.meetings.findIndex(o=>o.id===r);i!==-1&&(a.meetings[i].actionItems.push(s),a.meetings[i].updatedAt=new Date)}),updateActionItem:(r,s,a)=>e(i=>{const o=i.meetings.findIndex(l=>l.id===r);if(o!==-1){const l=i.meetings[o].actionItems.findIndex(d=>d.id===s);l!==-1&&(i.meetings[o].actionItems[l]={...i.meetings[o].actionItems[l],...a},i.meetings[o].updatedAt=new Date)}}),removeActionItem:(r,s)=>e(a=>{const i=a.meetings.findIndex(o=>o.id===r);i!==-1&&(a.meetings[i].actionItems=a.meetings[i].actionItems.filter(o=>o.id!==s),a.meetings[i].updatedAt=new Date)}),completeMeeting:r=>e(s=>{const a=s.meetings.findIndex(i=>i.id===r);a!==-1&&(s.meetings[a].status="COMPLETED",s.meetings[a].updatedAt=new Date)}),getUpcomingMeetings:()=>{const r=new Date;return n().meetings.filter(s=>s.status==="SCHEDULED"&&new Date(s.scheduledDate)>=r).sort((s,a)=>new Date(s.scheduledDate).getTime()-new Date(a.scheduledDate).getTime())},getOverdueActionItems:()=>{const r=new Date,s=[];return n().meetings.forEach(a=>{a.actionItems.forEach(i=>{i.status!=="COMPLETED"&&new Date(i.dueDate)<r&&s.push(i)})}),s},setLoading:r=>e(s=>{s.loading=r}),setError:r=>e(s=>{s.error=r})})),{name:"meeting-storage",partialize:e=>({meetings:e.meetings})})),ns=()=>{const[e,n]=S.useState(!1),[r,s]=S.useState({type:"ONE_ON_ONE",title:"",description:"",scheduledDate:N(new Date,"yyyy-MM-dd"),scheduledTime:"09:00",duration:30,participants:[],location:""}),{addMeeting:a,updateMeeting:i,getUpcomingMeetings:o}=Le(),{staff:l}=te(),d=o(),h=u=>{u.preventDefault();const f=new Date(`${r.scheduledDate}T${r.scheduledTime}`),m={id:`meeting-${Date.now()}`,type:r.type,title:r.title,description:r.description,scheduledDate:f,duration:r.duration,participants:r.participants,status:"SCHEDULED",location:r.location,actionItems:[],createdAt:new Date,updatedAt:new Date};a(m),n(!1),x()},x=()=>{s({type:"ONE_ON_ONE",title:"",description:"",scheduledDate:N(new Date,"yyyy-MM-dd"),scheduledTime:"09:00",duration:30,participants:[],location:""})},g=u=>({ONE_ON_ONE:"bg-primary-100 text-primary-700 border-primary-300",STAFF:"bg-success-100 text-success-700 border-success-300",SAFETY:"bg-danger-100 text-danger-700 border-danger-300",TRAINING:"bg-warning-100 text-warning-700 border-warning-300"})[u],p=u=>({SCHEDULED:"bg-secondary-100 text-secondary-700",COMPLETED:"bg-success-100 text-success-700",CANCELLED:"bg-neutral-100 text-neutral-700",RESCHEDULED:"bg-warning-100 text-warning-700"})[u];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Meeting Scheduler"}),t.jsx("p",{className:"text-neutral-600 mt-1",children:"Schedule and manage one-on-one meetings, staff meetings, and training sessions"})]}),t.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Schedule Meeting"]})]}),e&&t.jsx("div",{className:"card",children:t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900",children:"New Meeting"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-neutral-500 hover:text-neutral-700",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Meeting Type *"}),t.jsxs("select",{value:r.type,onChange:u=>s({...r,type:u.target.value}),className:"form-select",required:!0,children:[t.jsx("option",{value:"ONE_ON_ONE",children:"One-on-One"}),t.jsx("option",{value:"STAFF",children:"Staff Meeting"}),t.jsx("option",{value:"SAFETY",children:"Safety Meeting"}),t.jsx("option",{value:"TRAINING",children:"Training Session"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Title *"}),t.jsx("input",{type:"text",value:r.title,onChange:u=>s({...r,title:u.target.value}),className:"form-input",placeholder:"e.g., Monthly Performance Review",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("textarea",{value:r.description,onChange:u=>s({...r,description:u.target.value}),className:"form-textarea",rows:3,placeholder:"Meeting agenda and objectives..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Date *"}),t.jsx("input",{type:"date",value:r.scheduledDate,onChange:u=>s({...r,scheduledDate:u.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Time *"}),t.jsx("input",{type:"time",value:r.scheduledTime,onChange:u=>s({...r,scheduledTime:u.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Duration (minutes) *"}),t.jsx("input",{type:"number",value:r.duration,onChange:u=>s({...r,duration:parseInt(u.target.value)}),className:"form-input",min:"15",step:"15",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Location"}),t.jsx("input",{type:"text",value:r.location,onChange:u=>s({...r,location:u.target.value}),className:"form-input",placeholder:"e.g., Conference Room A"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"form-label",children:"Participants"}),t.jsx("select",{multiple:!0,value:r.participants,onChange:u=>s({...r,participants:Array.from(u.target.selectedOptions,f=>f.value)}),className:"form-select h-32",children:l.map(u=>t.jsxs("option",{value:u.id,children:[u.firstName," ",u.lastName," - ",u.role]},u.id))}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Hold Ctrl/Cmd to select multiple participants"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",className:"btn btn-primary",children:"Schedule Meeting"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn bg-neutral-300 hover:bg-neutral-400",children:"Cancel"})]})]})}),t.jsxs("div",{className:"card",children:[t.jsxs("h3",{className:"text-xl font-bold text-neutral-900 mb-4",children:["Upcoming Meetings (",d.length,")"]}),d.length===0?t.jsxs("div",{className:"text-center py-12 text-neutral-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Upcoming Meetings"}),t.jsx("p",{className:"text-sm",children:'Click "Schedule Meeting" to create your first meeting'})]}):t.jsx("div",{className:"space-y-4",children:d.map(u=>t.jsx("div",{className:`p-4 rounded-lg border-2 ${g(u.type)}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-bold text-lg",children:u.title}),t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${p(u.status)}`,children:u.status}),t.jsx("span",{className:"text-xs bg-neutral-100 text-neutral-700 px-2 py-1 rounded font-semibold",children:u.type.replace("_"," ")})]}),u.description&&t.jsx("p",{className:"text-sm text-neutral-600 mb-3",children:u.description}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-neutral-700",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("span",{children:N(new Date(u.scheduledDate),"MMM dd, yyyy")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("span",{children:[N(new Date(u.scheduledDate),"h:mm a")," (",u.duration," min)"]})]}),u.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.jsx("span",{children:u.location})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),t.jsxs("span",{children:[u.participants.length," participant(s)"]})]})]}),u.actionItems.length>0&&t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[t.jsx("svg",{className:"w-4 h-4 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),t.jsxs("span",{className:"text-primary-700 font-semibold",children:[u.actionItems.length," action item(s)"]})]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{onClick:()=>i(u.id,{status:"COMPLETED"}),className:"p-2 hover:bg-success-100 rounded transition-colors",title:"Mark as completed",children:t.jsx("svg",{className:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})]})},u.id))})]})]})},rs=()=>{const[e,n]=S.useState("ALL"),{meetings:r,updateActionItem:s,getOverdueActionItems:a}=Le(),{staff:i}=te(),o=[];r.forEach(c=>{c.actionItems.forEach(b=>{o.push({...b,meetingId:c.id,meetingTitle:c.title})})});const l=o.filter(c=>e==="ALL"?!0:e==="OVERDUE"?c.status!=="COMPLETED"&&Ge(new Date(c.dueDate)):c.status===e),d=c=>({LOW:"bg-neutral-100 text-neutral-700 border-neutral-300",MEDIUM:"bg-secondary-100 text-secondary-700 border-secondary-300",HIGH:"bg-warning-100 text-warning-700 border-warning-300",CRITICAL:"bg-danger-100 text-danger-700 border-danger-300"})[c],h=c=>({PENDING:"bg-neutral-100 text-neutral-700",IN_PROGRESS:"bg-secondary-100 text-secondary-700",COMPLETED:"bg-success-100 text-success-700",OVERDUE:"bg-danger-100 text-danger-700"})[c],x=(c,b)=>{s(c,b,{status:"COMPLETED",completedAt:new Date})},g=(c,b,v)=>{s(c,b,{status:v})},p=a().length,u=o.filter(c=>c.status==="PENDING").length,f=o.filter(c=>c.status==="IN_PROGRESS").length,m=o.filter(c=>c.status==="COMPLETED").length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-4",children:"Action Item Tracker"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"card bg-danger-50 border-danger-200",children:[t.jsx("div",{className:"text-3xl font-bold text-danger-700",children:p}),t.jsx("div",{className:"text-sm text-danger-600 font-semibold",children:"Overdue"})]}),t.jsxs("div",{className:"card bg-neutral-50 border-neutral-200",children:[t.jsx("div",{className:"text-3xl font-bold text-neutral-700",children:u}),t.jsx("div",{className:"text-sm text-neutral-600 font-semibold",children:"Pending"})]}),t.jsxs("div",{className:"card bg-secondary-50 border-secondary-200",children:[t.jsx("div",{className:"text-3xl font-bold text-secondary-700",children:f}),t.jsx("div",{className:"text-sm text-secondary-600 font-semibold",children:"In Progress"})]}),t.jsxs("div",{className:"card bg-success-50 border-success-200",children:[t.jsx("div",{className:"text-3xl font-bold text-success-700",children:m}),t.jsx("div",{className:"text-sm text-success-600 font-semibold",children:"Completed"})]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["ALL","OVERDUE","PENDING","IN_PROGRESS","COMPLETED"].map(c=>t.jsx("button",{onClick:()=>n(c),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${e===c?"bg-primary-500 text-white shadow-md":"bg-white text-neutral-700 hover:bg-neutral-100 border border-neutral-300"}`,children:c.replace("_"," ")},c))}),t.jsx("div",{className:"space-y-4",children:l.length===0?t.jsxs("div",{className:"card text-center py-12 text-neutral-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),t.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Action Items"}),t.jsx("p",{className:"text-sm",children:e==="ALL"?"No action items found":`No ${e.toLowerCase().replace("_"," ")} action items`})]}):l.map(c=>{const b=i.find($=>$.id===c.assignedTo),v=!c.completedAt&&Ge(new Date(c.dueDate)),w=v&&c.status!=="COMPLETED"?"OVERDUE":c.status;return t.jsx("div",{className:`card border-l-4 ${d(c.priority)}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-bold text-lg text-neutral-900",children:c.description}),t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${h(w)}`,children:w}),t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded border ${d(c.priority)}`,children:c.priority})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-neutral-600 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.jsx("span",{children:b?`${b.firstName} ${b.lastName}`:"Unassigned"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsxs("span",{className:v?"text-danger-600 font-semibold":"",children:["Due: ",N(new Date(c.dueDate),"MMM dd, yyyy")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),t.jsxs("span",{children:["From: ",c.meetingTitle]})]})]}),c.notes&&t.jsx("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-2 rounded mb-3",children:c.notes}),c.completedAt&&t.jsxs("div",{className:"text-xs text-success-600 font-semibold",children:["✓ Completed on ",N(new Date(c.completedAt),"MMM dd, yyyy")]})]}),t.jsx("div",{className:"flex flex-col gap-2 ml-4",children:c.status!=="COMPLETED"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>x(c.meetingId,c.id),className:"p-2 hover:bg-success-100 rounded transition-colors",title:"Mark as completed",children:t.jsx("svg",{className:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.status==="PENDING"&&t.jsx("button",{onClick:()=>g(c.meetingId,c.id,"IN_PROGRESS"),className:"p-2 hover:bg-secondary-100 rounded transition-colors",title:"Start working",children:t.jsxs("svg",{className:"w-5 h-5 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})]})})]})},c.id)})})]})},ss=()=>{const[e,n]=S.useState("overview"),{getUpcomingMeetings:r,getOverdueActionItems:s}=Le(),a=r(),i=s(),o=[{id:"overview",label:"Overview",icon:"📊"},{id:"meetings",label:"Meetings",icon:"📅",badge:a.length},{id:"actions",label:"Action Items",icon:"✓",badge:i.length},{id:"rounding",label:"Staff Rounding",icon:"🔄"}];return t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary-700",children:"Manager Dashboard"}),t.jsx("p",{className:"text-neutral-600 mt-2",children:"Manage meetings, track action items, and monitor team performance"})]}),t.jsx("div",{className:"border-b border-neutral-200 mb-6",children:t.jsx("nav",{className:"flex gap-4","aria-label":"Dashboard tabs",children:o.map(l=>t.jsxs("button",{onClick:()=>n(l.id),className:`
                px-4 py-3 font-semibold text-sm border-b-2 transition-all
                flex items-center gap-2
                ${e===l.id?"border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}
              `,children:[t.jsx("span",{"aria-hidden":"true",children:l.icon}),t.jsx("span",{children:l.label}),l.badge!==void 0&&l.badge>0&&t.jsx("span",{className:"bg-danger-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:l.badge})]},l.id))})}),t.jsxs("div",{className:"pb-12",children:[e==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"card bg-primary-50 border-primary-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center text-white text-2xl",children:"📅"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-primary-700",children:a.length}),t.jsx("div",{className:"text-sm text-primary-600",children:"Upcoming Meetings"})]})]})}),t.jsx("div",{className:"card bg-danger-50 border-danger-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-danger-500 rounded-lg flex items-center justify-center text-white text-2xl",children:"⚠️"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-danger-700",children:i.length}),t.jsx("div",{className:"text-sm text-danger-600",children:"Overdue Actions"})]})]})}),t.jsx("div",{className:"card bg-success-50 border-success-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-success-500 rounded-lg flex items-center justify-center text-white text-2xl",children:"✓"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-success-700",children:"0"}),t.jsx("div",{className:"text-sm text-success-600",children:"Completed Today"})]})]})}),t.jsx("div",{className:"card bg-secondary-50 border-secondary-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-secondary-500 rounded-lg flex items-center justify-center text-white text-2xl",children:"👥"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-secondary-700",children:"0"}),t.jsx("div",{className:"text-sm text-secondary-600",children:"Staff Rounds"})]})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>n("meetings"),className:"p-4 bg-primary-50 hover:bg-primary-100 rounded-lg transition-colors text-left border border-primary-200",children:[t.jsx("div",{className:"text-3xl mb-2",children:"📅"}),t.jsx("div",{className:"font-semibold text-neutral-900",children:"Schedule Meeting"}),t.jsx("div",{className:"text-sm text-neutral-600",children:"Create one-on-one or team meeting"})]}),t.jsxs("button",{onClick:()=>n("actions"),className:"p-4 bg-success-50 hover:bg-success-100 rounded-lg transition-colors text-left border border-success-200",children:[t.jsx("div",{className:"text-3xl mb-2",children:"✓"}),t.jsx("div",{className:"font-semibold text-neutral-900",children:"View Action Items"}),t.jsx("div",{className:"text-sm text-neutral-600",children:"Track and complete tasks"})]}),t.jsxs("button",{onClick:()=>n("rounding"),className:"p-4 bg-secondary-50 hover:bg-secondary-100 rounded-lg transition-colors text-left border border-secondary-200",children:[t.jsx("div",{className:"text-3xl mb-2",children:"🔄"}),t.jsx("div",{className:"font-semibold text-neutral-900",children:"Staff Rounding"}),t.jsx("div",{className:"text-sm text-neutral-600",children:"Check in with team members"})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Recent Activity"}),t.jsx("div",{className:"text-center py-8 text-neutral-400",children:t.jsx("p",{children:"No recent activity"})})]})]}),e==="meetings"&&t.jsx(ns,{}),e==="actions"&&t.jsx(rs,{}),e==="rounding"&&t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Staff Rounding"}),t.jsxs("div",{className:"text-center py-12 text-neutral-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-lg font-semibold mb-2",children:"Staff Rounding System"}),t.jsx("p",{className:"text-sm",children:"Track staff check-ins, concerns, and follow-up actions"}),t.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:"Full implementation coming soon"})]})]})]})]})},St=ue()(me(pe((e,n)=>({incidents:[],complianceItems:[],selectedIncident:null,loading:!1,error:null,setIncidents:r=>e(s=>{s.incidents=r}),addIncident:r=>e(s=>{s.incidents.push(r)}),updateIncident:(r,s)=>e(a=>{const i=a.incidents.findIndex(o=>o.id===r);i!==-1&&(a.incidents[i]={...a.incidents[i],...s})}),removeIncident:r=>e(s=>{s.incidents=s.incidents.filter(a=>a.id!==r)}),setSelectedIncident:r=>e(s=>{s.selectedIncident=r}),closeIncident:(r,s)=>e(a=>{const i=a.incidents.findIndex(o=>o.id===r);i!==-1&&(a.incidents[i].status="CLOSED",a.incidents[i].closedAt=new Date,a.incidents[i].closedBy=s)}),setComplianceItems:r=>e(s=>{s.complianceItems=r}),addComplianceItem:r=>e(s=>{s.complianceItems.push(r)}),updateComplianceItem:(r,s)=>e(a=>{const i=a.complianceItems.findIndex(o=>o.id===r);i!==-1&&(a.complianceItems[i]={...a.complianceItems[i],...s})}),removeComplianceItem:r=>e(s=>{s.complianceItems=s.complianceItems.filter(a=>a.id!==r)}),completeComplianceItem:(r,s)=>e(a=>{const i=a.complianceItems.findIndex(o=>o.id===r);i!==-1&&(a.complianceItems[i].status="COMPLETED",a.complianceItems[i].completedAt=new Date,a.complianceItems[i].verifiedBy=s,a.complianceItems[i].verifiedAt=new Date)}),getOpenIncidents:()=>n().incidents.filter(r=>r.status!=="CLOSED"),getCriticalIncidents:()=>n().incidents.filter(r=>r.severity==="CRITICAL"&&r.status!=="CLOSED"),getOverdueCompliance:()=>{const r=new Date;return n().complianceItems.filter(s=>s.status!=="COMPLETED"&&new Date(s.dueDate)<r)},getComplianceByCategory:r=>n().complianceItems.filter(s=>s.category===r),setLoading:r=>e(s=>{s.loading=r}),setError:r=>e(s=>{s.error=r})})),{name:"safety-storage",partialize:e=>({incidents:e.incidents,complianceItems:e.complianceItems})})),as=()=>{const[e,n]=S.useState(!1),[r,s]=S.useState({type:"NEEDLE_STICK",incidentDate:N(new Date,"yyyy-MM-dd"),incidentTime:N(new Date,"HH:mm"),location:"",description:"",severity:"MEDIUM",involvedStaff:[],witnessStaff:[],actionsTaken:""}),{incidents:a,addIncident:i,getCriticalIncidents:o,getOpenIncidents:l}=St(),{staff:d}=te(),h=d[0],x=m=>{m.preventDefault();const c=new Date(`${r.incidentDate}T${r.incidentTime}`),b={id:`incident-${Date.now()}`,type:r.type,reportedBy:(h==null?void 0:h.id)||"unknown",reportedDate:new Date,incidentDate:c,location:r.location,description:r.description,severity:r.severity,status:"REPORTED",actionsTaken:r.actionsTaken.split(`
`).filter(v=>v.trim()),followUpRequired:r.severity==="HIGH"||r.severity==="CRITICAL",involvedStaff:r.involvedStaff,witnessStaff:r.witnessStaff.length>0?r.witnessStaff:void 0};i(b),n(!1),g()},g=()=>{s({type:"NEEDLE_STICK",incidentDate:N(new Date,"yyyy-MM-dd"),incidentTime:N(new Date,"HH:mm"),location:"",description:"",severity:"MEDIUM",involvedStaff:[],witnessStaff:[],actionsTaken:""})},p=m=>({LOW:"bg-neutral-100 text-neutral-700 border-neutral-300",MEDIUM:"bg-warning-100 text-warning-700 border-warning-300",HIGH:"bg-danger-100 text-danger-700 border-danger-300",CRITICAL:"bg-danger-200 text-danger-900 border-danger-500"})[m],u=o(),f=l();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Safety Incident Reporter"}),t.jsx("p",{className:"text-neutral-600 mt-1",children:"Report and track safety incidents for regulatory compliance"})]}),t.jsxs("button",{onClick:()=>n(!0),className:"btn btn-danger flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Report Incident"]})]}),u.length>0&&t.jsxs("div",{className:"bg-danger-50 border-2 border-danger-500 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("svg",{className:"w-6 h-6 text-danger-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsxs("h3",{className:"font-bold text-danger-700",children:[u.length," Critical Incident(s) Require Immediate Attention"]})]}),t.jsx("p",{className:"text-sm text-danger-600",children:"Review and address critical incidents immediately to ensure staff safety and regulatory compliance."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"card bg-danger-50 border-danger-200",children:[t.jsx("div",{className:"text-3xl font-bold text-danger-700",children:u.length}),t.jsx("div",{className:"text-sm text-danger-600 font-semibold",children:"Critical"})]}),t.jsxs("div",{className:"card bg-warning-50 border-warning-200",children:[t.jsx("div",{className:"text-3xl font-bold text-warning-700",children:f.length}),t.jsx("div",{className:"text-sm text-warning-600 font-semibold",children:"Open"})]}),t.jsxs("div",{className:"card bg-secondary-50 border-secondary-200",children:[t.jsx("div",{className:"text-3xl font-bold text-secondary-700",children:a.filter(m=>m.status==="INVESTIGATING").length}),t.jsx("div",{className:"text-sm text-secondary-600 font-semibold",children:"Investigating"})]}),t.jsxs("div",{className:"card bg-success-50 border-success-200",children:[t.jsx("div",{className:"text-3xl font-bold text-success-700",children:a.filter(m=>m.status==="RESOLVED").length}),t.jsx("div",{className:"text-sm text-success-600 font-semibold",children:"Resolved"})]})]}),e&&t.jsx("div",{className:"card",children:t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900",children:"Report Safety Incident"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-neutral-500 hover:text-neutral-700",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Incident Type *"}),t.jsxs("select",{value:r.type,onChange:m=>s({...r,type:m.target.value}),className:"form-select",required:!0,children:[t.jsx("option",{value:"NEEDLE_STICK",children:"Needle Stick"}),t.jsx("option",{value:"CHEMICAL_SPILL",children:"Chemical Spill"}),t.jsx("option",{value:"EQUIPMENT_FAILURE",children:"Equipment Failure"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Severity *"}),t.jsxs("select",{value:r.severity,onChange:m=>s({...r,severity:m.target.value}),className:"form-select",required:!0,children:[t.jsx("option",{value:"LOW",children:"Low"}),t.jsx("option",{value:"MEDIUM",children:"Medium"}),t.jsx("option",{value:"HIGH",children:"High"}),t.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Incident Date *"}),t.jsx("input",{type:"date",value:r.incidentDate,onChange:m=>s({...r,incidentDate:m.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Incident Time *"}),t.jsx("input",{type:"time",value:r.incidentTime,onChange:m=>s({...r,incidentTime:m.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"form-label",children:"Location *"}),t.jsx("input",{type:"text",value:r.location,onChange:m=>s({...r,location:m.target.value}),className:"form-input",placeholder:"e.g., Lab Room 101, Phlebotomy Station 3",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"form-label",children:"Description *"}),t.jsx("textarea",{value:r.description,onChange:m=>s({...r,description:m.target.value}),className:"form-textarea",rows:4,placeholder:"Detailed description of the incident...",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"form-label",children:"Actions Taken"}),t.jsx("textarea",{value:r.actionsTaken,onChange:m=>s({...r,actionsTaken:m.target.value}),className:"form-textarea",rows:3,placeholder:"List actions taken (one per line)..."})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",className:"btn btn-danger",children:"Submit Report"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn bg-neutral-300 hover:bg-neutral-400",children:"Cancel"})]})]})}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Recent Incidents"}),a.length===0?t.jsxs("div",{className:"text-center py-12 text-neutral-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Incidents Reported"}),t.jsx("p",{className:"text-sm",children:'Click "Report Incident" to submit a safety incident report'})]}):t.jsx("div",{className:"space-y-4",children:a.slice(0,10).map(m=>{const c=d.find(b=>b.id===m.reportedBy);return t.jsx("div",{className:`p-4 rounded-lg border-2 ${p(m.severity)}`,children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-bold text-lg",children:m.type.replace("_"," ")}),t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded border ${p(m.severity)}`,children:m.severity}),t.jsx("span",{className:"text-xs bg-neutral-100 text-neutral-700 px-2 py-1 rounded font-semibold",children:m.status})]}),t.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:m.description}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-neutral-600",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Date:"})," ",N(new Date(m.incidentDate),"MMM dd, yyyy h:mm a")]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Location:"})," ",m.location]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Reported by:"})," ",c?`${c.firstName} ${c.lastName}`:"Unknown"]})]})]})})},m.id)})})]})]})},is=()=>{const[e,n]=S.useState("incidents"),{getCriticalIncidents:r,getOverdueCompliance:s}=St(),a=r(),i=s();return t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary-700",children:"Safety & Compliance"}),t.jsx("p",{className:"text-neutral-600 mt-2",children:"Incident reporting, safety protocols, and regulatory compliance tracking"})]}),t.jsx("div",{className:"border-b border-neutral-200 mb-6",children:t.jsxs("nav",{className:"flex gap-4","aria-label":"Safety tabs",children:[t.jsxs("button",{onClick:()=>n("incidents"),className:`
              px-4 py-3 font-semibold text-sm border-b-2 transition-all
              flex items-center gap-2
              ${e==="incidents"?"border-danger-500 text-danger-700":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}
            `,children:[t.jsx("span",{"aria-hidden":"true",children:"🚨"}),t.jsx("span",{children:"Safety Incidents"}),a.length>0&&t.jsx("span",{className:"bg-danger-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:a.length})]}),t.jsxs("button",{onClick:()=>n("compliance"),className:`
              px-4 py-3 font-semibold text-sm border-b-2 transition-all
              flex items-center gap-2
              ${e==="compliance"?"border-success-500 text-success-700":"border-transparent text-neutral-600 hover:text-neutral-900 hover:border-neutral-300"}
            `,children:[t.jsx("span",{"aria-hidden":"true",children:"✓"}),t.jsx("span",{children:"Compliance"}),i.length>0&&t.jsx("span",{className:"bg-warning-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:i.length})]})]})}),e==="incidents"?t.jsx(as,{}):t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Compliance Checklist"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:["CLIA","CAP","OSHA","HIPAA"].map(o=>t.jsxs("div",{className:"card bg-success-50 border-success-200",children:[t.jsx("h4",{className:"font-bold text-success-700 mb-2",children:o}),t.jsx("div",{className:"text-2xl font-bold text-success-700",children:"0"}),t.jsx("div",{className:"text-xs text-success-600",children:"Items Due"})]},o))}),t.jsxs("div",{className:"text-center py-12 text-neutral-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-lg font-semibold mb-2",children:"Compliance Tracking System"}),t.jsx("p",{className:"text-sm",children:"Track CLIA, CAP, OSHA, and HIPAA compliance requirements"}),t.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:"Full implementation active - Add compliance items to track"})]})]})]})},os=()=>{const[e,n]=S.useState("ALL"),{staff:r}=te(),s=e==="ALL"?r:r.filter(i=>i.role===e),a=i=>({[D.LEAD_PHLEBOTOMIST]:"bg-purple-100 text-purple-700 border-purple-300",[D.SENIOR_PHLEBOTOMIST]:"bg-blue-100 text-blue-700 border-blue-300",[D.PHLEBOTOMIST]:"bg-green-100 text-green-700 border-green-300",[D.PHLEBOTOMY_TECHNICIAN]:"bg-yellow-100 text-yellow-700 border-yellow-300",[D.FLOAT_PHLEBOTOMIST]:"bg-orange-100 text-orange-700 border-orange-300"})[i];return t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-primary-700",children:"Staff Management"}),t.jsx("p",{className:"text-neutral-600 mt-2",children:"Manage staff profiles, certifications, and availability"})]}),t.jsxs("button",{onClick:()=>alert("Add staff form coming soon"),className:"btn btn-primary flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Staff Member"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"card bg-primary-50 border-primary-200",children:[t.jsx("div",{className:"text-2xl font-bold text-primary-700",children:r.length}),t.jsx("div",{className:"text-sm text-primary-600",children:"Total Staff"})]}),Object.values(D).map(i=>t.jsxs("div",{className:"card bg-neutral-50 border-neutral-200",children:[t.jsx("div",{className:"text-2xl font-bold text-neutral-700",children:r.filter(o=>o.role===i).length}),t.jsx("div",{className:"text-xs text-neutral-600",children:i.replace("Phlebotomist","Phleb.")})]},i))]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[t.jsx("button",{onClick:()=>n("ALL"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${e==="ALL"?"bg-primary-500 text-white shadow-md":"bg-white text-neutral-700 hover:bg-neutral-100 border border-neutral-300"}`,children:"All Staff"}),Object.values(D).map(i=>t.jsx("button",{onClick:()=>n(i),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${e===i?"bg-primary-500 text-white shadow-md":"bg-white text-neutral-700 hover:bg-neutral-100 border border-neutral-300"}`,children:i},i))]}),s.length===0?t.jsxs("div",{className:"card text-center py-12 text-neutral-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),t.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Staff Members"}),t.jsx("p",{className:"text-sm",children:'Click "Add Staff Member" to get started'})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>{const o=i.certifications.filter(d=>{const h=dt(new Date(d.expirationDate),new Date);return h>0&&h<=30}),l=i.certifications.filter(d=>new Date(d.expirationDate)<new Date);return t.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("h3",{className:"font-bold text-lg text-neutral-900",children:[i.firstName," ",i.lastName]}),i.nickname&&t.jsxs("p",{className:"text-sm text-neutral-500",children:["(",i.nickname,")"]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${a(i.role)}`,children:i.role})]}),t.jsxs("div",{className:"space-y-2 text-sm text-neutral-600 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsx("span",{children:i.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.jsx("span",{children:i.phone})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsxs("span",{children:["Hired: ",N(new Date(i.hireDate),"MMM dd, yyyy")]})]})]}),t.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-neutral-600",children:"Certifications:"}),t.jsx("span",{className:"font-semibold text-neutral-900",children:i.certifications.length})]}),l.length>0&&t.jsxs("div",{className:"mt-2 bg-danger-50 text-danger-700 text-xs px-2 py-1 rounded flex items-center gap-1",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.length," expired"]}),o.length>0&&l.length===0&&t.jsxs("div",{className:"mt-2 bg-warning-50 text-warning-700 text-xs px-2 py-1 rounded flex items-center gap-1",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.length," expiring soon"]}),t.jsxs("div",{className:"mt-2 text-xs text-neutral-600",children:["Availability: ",i.availability.length," slot(s)"]})]}),t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsx("button",{className:"flex-1 btn btn-sm bg-primary-100 text-primary-700 hover:bg-primary-200",children:"View Profile"}),t.jsx("button",{className:"btn btn-sm bg-neutral-100 text-neutral-700 hover:bg-neutral-200",children:"Edit"})]})]},i.id)})})]})};class ls extends S.Component{constructor(){super(...arguments);ge(this,"state",{hasError:!1,error:null,errorInfo:null});ge(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/largo-lab-portal/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,s){console.error("Error caught by ErrorBoundary:",r,s),this.setState({error:r,errorInfo:s})}render(){var r;return this.state.hasError?t.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-6",children:t.jsx("div",{className:"max-w-2xl w-full",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-strong p-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-danger-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-10 h-10 text-danger-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),t.jsx("h1",{className:"text-2xl font-bold text-neutral-900 text-center mb-4",children:"Something went wrong"}),t.jsxs("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-danger-700 font-semibold mb-2",children:"Error Details:"}),t.jsx("p",{className:"text-sm text-danger-600 font-mono",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"})]}),!1,t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("button",{onClick:this.handleReset,className:"btn btn-primary flex-1 justify-center",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Return to Home"]}),t.jsxs("button",{onClick:()=>window.location.reload(),className:"btn bg-neutral-300 hover:bg-neutral-400 flex-1 justify-center",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:t.jsxs("p",{className:"text-sm text-neutral-600 text-center",children:["If this problem persists, please contact your system administrator or"," ",t.jsx("a",{href:"mailto:support@example.com",className:"text-primary-600 hover:underline",children:"technical support"}),"."]})})]})})}):this.props.children}}function cs(){return t.jsx(ls,{children:t.jsx(Ot,{basename:"/largo-lab-portal",children:t.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[t.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),t.jsx(qt,{}),t.jsx("main",{id:"main-content",className:"py-6",children:t.jsxs(_t,{children:[t.jsx(q,{path:"/",element:t.jsx(Gt,{})}),t.jsx(q,{path:"/schedule",element:t.jsx(ts,{})}),t.jsx(q,{path:"/dashboard",element:t.jsx(ss,{})}),t.jsx(q,{path:"/safety",element:t.jsx(is,{})}),t.jsx(q,{path:"/staff",element:t.jsx(os,{})})]})}),t.jsx("footer",{className:"bg-white border-t border-neutral-200 mt-12",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-neutral-600",children:["© ",new Date().getFullYear()," Largo Laboratory Portal"]}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Healthcare laboratory operations management system"})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm text-neutral-600",children:[t.jsx("a",{href:"#",className:"hover:text-primary-700 transition-colors",children:"Support"}),t.jsx("a",{href:"#",className:"hover:text-primary-700 transition-colors",children:"Documentation"}),t.jsx("a",{href:"#",className:"hover:text-primary-700 transition-colors",children:"Privacy Policy"})]})]})})})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/largo-lab-portal/sw.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})});Se.createRoot(document.getElementById("root")).render(t.jsx(rt.StrictMode,{children:t.jsx(cs,{})}));
//# sourceMappingURL=main-AYgiAOk1.js.map
